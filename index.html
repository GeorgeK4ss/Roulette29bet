<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ ÿ±ŸàŸÑŸäÿ™ 29Bet</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --color-accent: #8B0000;
            --color-navy: #0D1B2A;
            --color-bg: #FAFAFC;
            --color-card: #FFFFFF;
            --color-ink: #0F172A;
        }
        
        body {
            font-family: "Almarai", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans Arabic", "Noto Naskh Arabic", sans-serif;
            background: 
                radial-gradient(circle at 20% 20%, #FF1744 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, #8B0000 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, #DC143C 0%, transparent 50%),
                linear-gradient(135deg, #1a0000 0%, #2d0000 25%, #1a0000 50%, #0d0000 75%, #000000 100%);
            background-size: 100% 100%, 100% 100%, 100% 100%, 400% 400%;
            animation: gradientShift 12s ease infinite;
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.15) 0%, transparent 60%),
                radial-gradient(circle at 80% 20%, rgba(255, 69, 0, 0.1) 0%, transparent 60%),
                radial-gradient(circle at 40% 40%, rgba(255, 20, 147, 0.08) 0%, transparent 60%),
                radial-gradient(circle at 60% 70%, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
            pointer-events: none;
            z-index: -1;
            animation: sparkle 8s ease-in-out infinite;
        }
        
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.02)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.02)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.01)"/><circle cx="10" cy="60" r="0.5" fill="rgba(255,255,255,0.01)"/><circle cx="90" cy="40" r="0.5" fill="rgba(255,255,255,0.01)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
            z-index: -1;
            opacity: 0.3;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%, 0% 0%, 0% 0%, 0% 50%; }
            25% { background-position: 100% 50%, 0% 0%, 0% 0%, 25% 75%; }
            50% { background-position: 0% 50%, 0% 0%, 0% 0%, 50% 50%; }
            75% { background-position: 100% 50%, 0% 0%, 0% 0%, 75% 25%; }
            100% { background-position: 0% 50%, 0% 0%, 0% 0%, 100% 50%; }
        }
        
        
        @keyframes sparkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.1); }
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
        }
        
        .header {
            margin-bottom: 40px;
            text-align: center;
            position: relative;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 120%;
            height: 120%;
            background: linear-gradient(145deg, rgba(255, 215, 0, 0.1), rgba(255, 69, 0, 0.05));
            border-radius: 30px;
            backdrop-filter: blur(20px);
            z-index: -1;
            animation: pulse 4s ease-in-out infinite;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientText 3s ease infinite;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            font-weight: 800;
            letter-spacing: 2px;
            position: relative;
        }
        
        .header h1::after {
            content: '‚ú®';
            position: absolute;
            top: -10px;
            right: -20px;
            font-size: 0.6em;
            animation: twinkle 2s ease-in-out infinite;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.95;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            font-weight: 500;
            letter-spacing: 1px;
        }
        
        @keyframes pulse {
            0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.3; }
            50% { transform: translateX(-50%) scale(1.05); opacity: 0.5; }
        }
        
        @keyframes gradientText {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.5; transform: scale(1) rotate(0deg); }
            50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
        }
        
        .game-container {
            background: 
                linear-gradient(145deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05)),
                linear-gradient(45deg, rgba(139, 0, 0, 0.2), rgba(220, 20, 60, 0.15), rgba(255, 69, 0, 0.1));
            border-radius: 30px;
            padding: 35px;
            margin-bottom: 25px;
            backdrop-filter: blur(25px) saturate(180%);
            border: 2px solid rgba(255, 215, 0, 0.4);
            box-shadow: 
                0 25px 50px rgba(139, 0, 0, 0.4),
                0 10px 20px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 -1px 0 rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            transform: perspective(1000px) rotateX(2deg);
            transition: all 0.3s ease;
        }
        
        .game-container:hover {
            transform: perspective(1000px) rotateX(0deg) translateY(-5px);
            box-shadow: 
                0 35px 70px rgba(139, 0, 0, 0.5),
                0 15px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
        
        .game-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, 
                transparent, 
                rgba(255, 215, 0, 0.1), 
                transparent, 
                rgba(255, 69, 0, 0.1), 
                transparent);
            animation: rotate 15s linear infinite;
            pointer-events: none;
        }
        
        .game-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 30% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(255, 69, 0, 0.08) 0%, transparent 50%);
            pointer-events: none;
            border-radius: 30px;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .card {
            background: 
                linear-gradient(145deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.1)),
                linear-gradient(45deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: #111827;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 8px 16px rgba(139, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                inset 0 -1px 0 rgba(0, 0, 0, 0.1);
            border-radius: 30px;
            padding: 30px;
            margin-bottom: 25px;
            position: relative;
            z-index: 2;
            backdrop-filter: blur(20px) saturate(150%);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 12px 24px rgba(139, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                rgba(255, 215, 0, 0.05), 
                transparent, 
                rgba(255, 69, 0, 0.05));
            border-radius: 30px;
            pointer-events: none;
        }
        
        /* Roulette Wheel Styles */
        .roulette-main {
            width: 100%;
            max-width: 330px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .roulette-plate {
            background: 
                radial-gradient(circle at 30% 30%, #3a3a3a, #2a2a2a),
                linear-gradient(145deg, #2c2c2c, #1a1a1a);
            width: min(300px, 80vw);
            height: min(300px, 80vw);
            margin: 12px;
            border-radius: 50%;
            position: relative;
            animation: roulette-rotate 24s infinite linear;
            box-shadow: 
                0 0 40px rgba(139, 0, 0, 0.6),
                0 0 80px rgba(255, 215, 0, 0.3),
                inset 0 0 30px rgba(0, 0, 0, 0.4),
                inset 0 0 60px rgba(255, 215, 0, 0.1);
            border: 3px solid rgba(255, 215, 0, 0.4);
        }
        
        .roulette-plate.rest {
            background-color: gray;
            animation: none;
        }

        .roulette-plate:after,
        .roulette-plate:before {
            content: '';
            display: block;
            position: absolute;
            border-radius: 50%;
        }

        .roulette-plate:after {
            top: -6px;
            right: -6px;
            bottom: -6px;
            left: -6px;
            border: 6px solid #FFD700;
            box-shadow: inset 0px 0px 0px 2px #B8860B, 0px 0px 0px 2px #FFEF94;
        }

        .roulette-plate:before {
            background: rgba(0,0,0,.65);
            border: 1px solid #C0C0C0;
            box-shadow: inset 0px 0px 0px 2px #A0A0A0;
            top: 12%;
            left: 12%;
            right: 12%;
            bottom: 12%;
            z-index: 1;
        }

        .roulette-number {
            width: calc(min(300px, 80vw) / 11);
            height: calc(min(300px, 80vw) / 2);
            display: inline-block;
            text-align: center;
            position: absolute;
            top: 0;
            left: calc(50% - calc(min(300px, 80vw) / 22));
            transform-origin: 50% 100%;
            background-color: transparent;
            border-left: calc(min(300px, 80vw) / 22) solid transparent;
            border-right: calc(min(300px, 80vw) / 22) solid transparent;
            border-top: calc(min(300px, 80vw) / 2) solid black;
            box-sizing: border-box;
        }

        .roulette-number:nth-child(odd) { border-top-color: #8B0000; }
        .roulette-number:nth-child(even) { border-top-color: #000; }
        .roulette-number:nth-child(37) { border-top-color: #228B22; }
        
        .roulette-inner.rest .roulette-number {
            opacity: 1;
            visibility: visible;
        }

        .roulette-pit {
            color: #fff;
            padding-top: calc(min(300px, 80vw) / 30);
            width: calc(min(300px, 80vw) / 11);
            display: inline-block;
            font-size: calc(min(300px, 80vw) / 30);
            transform: scale(1, 1.8);
            position: absolute;
            top: calc(-1 * min(300px, 80vw) / 2);
            left: calc(-1 * min(300px, 80vw) / 22);
            font-weight: bold;
        }

        .roulette-inner {
            display: block;
            height: min(300px, 80vw);
            width: min(300px, 80vw);
            position: relative;
        }

        .roulette-inner:after,
        .roulette-inner:before {
            content: '';
            display: block;
            position: absolute;
            border-radius: 50%;
        }

        .roulette-inner:after {
            z-index: 3;
            top: 24%;
            right: 24%;
            bottom: 24%;
            left: 24%;
            background-color: #2F2F2F;
            border: 3px solid #A0A0A0;
        }

        .roulette-inner:before {
            top: 0%;
            bottom: 0%;
            left: 0%;
            right: 0%;
            content: '';
            color: #fff;
            font-size: 20px;
            z-index: 5;
            border-radius: 0;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            transform-origin: center;
            padding-top: 40px;
        }

        .roulette-data {
            display: block;
            position: absolute;
            top: 30%;
            right: 30%;
            bottom: 30%;
            left: 30%;
            border-radius: 50%;
            animation: roulette-rotate 24s reverse linear infinite;
            perspective: 2000px;
            z-index: 100;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border: 3px solid #FFD700;
            box-shadow: 
              0 0 20px rgba(255, 215, 0, 0.3),
              inset 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .roulette-data-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-style: preserve-3d;
            border-radius: 50%;
            overflow: hidden;
        }

        .roulette-data.reveal .roulette-data-inner {
            transform: rotateY(180deg);
        }

        .roulette-mask,
        .roulette-result {
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            position: absolute;
            border-radius: 50%;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .roulette-mask {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: #ecf0f1;
            font-size: 16px;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            letter-spacing: 1px;
            border: 2px solid #3498db;
            box-shadow: inset 0 0 15px rgba(52, 152, 219, 0.2);
            backface-visibility: hidden;
            transform: rotateY(0deg);
        }

        .roulette-result {
            background: linear-gradient(135deg, #ae2727 0%, #e00000 100%);
            color: white;
            transform: rotateY(180deg);
            border: 2px solid #f39c12;
            box-shadow: 
              0 0 25px rgba(39, 174, 96, 0.4),
              inset 0 0 15px rgba(255, 255, 255, 0.1);
            backface-visibility: hidden;
        }

        .roulette-data.reveal .roulette-result {
            backface-visibility: visible;
        }

        .roulette-result-amount {
            font-size: 48px;
            font-weight: 800;
            line-height: 1;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);
            color: #f1c40f;
            -webkit-text-stroke: 1px #e67e22;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .roulette-btn {
            background: 
                linear-gradient(145deg, #FF1744, #DC143C, #8B0000),
                linear-gradient(45deg, rgba(255, 255, 255, 0.1), transparent);
            border: 3px solid #FFD700;
            padding: 18px 40px;
            margin: 15px;
            display: inline-block;
            font-size: 18px;
            width: min(220px, 60vw);
            cursor: pointer;
            color: #fff;
            font-family: 'Almarai', sans-serif;
            border-radius: 35px;
            font-weight: 800;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 12px 30px rgba(139, 0, 0, 0.5),
                0 6px 15px rgba(0, 0, 0, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.3),
                inset 0 -2px 0 rgba(0, 0, 0, 0.2);
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
            letter-spacing: 1px;
            backdrop-filter: blur(10px);
        }
        
        .roulette-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.3), 
                rgba(255, 215, 0, 0.2),
                rgba(255, 255, 255, 0.3),
                transparent);
            transition: left 0.6s ease;
        }
        
        .roulette-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
        }
        
        .roulette-btn:hover::before {
            left: 100%;
        }
        
        .roulette-btn:hover::after {
            width: 300px;
            height: 300px;
        }

        .roulette-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 
                0 20px 40px rgba(139, 0, 0, 0.6),
                0 10px 20px rgba(0, 0, 0, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.4),
                0 0 30px rgba(255, 215, 0, 0.4);
            background: 
                linear-gradient(145deg, #FF1744, #FF5722, #DC143C),
                linear-gradient(45deg, rgba(255, 255, 255, 0.15), transparent);
            border-color: #FFA500;
        }
        
        .roulette-btn:active {
            transform: translateY(-2px) scale(1.02);
            transition: all 0.1s ease;
        }

        .roulette-btn.disabled {
            opacity: 0.2;
            transition: opacity 0.24s linear;
            cursor: not-allowed;
        }

        @keyframes roulette-rotate {
            0% { transform: rotateZ(0deg); }
            100% { transform: rotateZ(360deg); }
        }

        .roulette-inner.rest:before {
            transition: top 0.5s ease-in, right 0.5s ease-in, bottom 0.5s ease-in, left 0.5s ease-in;
            top: 25%;
            right: 25%;
            bottom: 24%;
            left: 25%;
        }

        /* Ball animation for different landing positions */
        .roulette-inner[data-spinto='0']:before { transform: rotateZ(-2880deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='1']:before { transform: rotateZ(-2870deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='2']:before { transform: rotateZ(-2860deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='3']:before { transform: rotateZ(-2850deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='4']:before { transform: rotateZ(-2840deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='5']:before { transform: rotateZ(-2830deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='6']:before { transform: rotateZ(-2820deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='7']:before { transform: rotateZ(-2810deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='8']:before { transform: rotateZ(-2800deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='9']:before { transform: rotateZ(-2790deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='10']:before { transform: rotateZ(-2780deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='11']:before { transform: rotateZ(-2770deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='12']:before { transform: rotateZ(-2760deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='13']:before { transform: rotateZ(-2750deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='14']:before { transform: rotateZ(-2740deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='15']:before { transform: rotateZ(-2730deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='16']:before { transform: rotateZ(-2720deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='17']:before { transform: rotateZ(-2710deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='18']:before { transform: rotateZ(-2700deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='19']:before { transform: rotateZ(-2690deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='20']:before { transform: rotateZ(-2680deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='21']:before { transform: rotateZ(-2670deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='22']:before { transform: rotateZ(-2660deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='23']:before { transform: rotateZ(-2650deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='24']:before { transform: rotateZ(-2640deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='25']:before { transform: rotateZ(-2630deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='26']:before { transform: rotateZ(-2620deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='27']:before { transform: rotateZ(-2610deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='28']:before { transform: rotateZ(-2600deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='29']:before { transform: rotateZ(-2590deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='30']:before { transform: rotateZ(-2580deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='31']:before { transform: rotateZ(-2570deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='32']:before { transform: rotateZ(-2560deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='33']:before { transform: rotateZ(-2550deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='34']:before { transform: rotateZ(-2540deg); transition: transform 9s ease-out; content: '‚óè'; }
        .roulette-inner[data-spinto='35']:before { transform: rotateZ(-2530deg); transition: transform 9s ease-out; content: '‚óè'; }

        .wheel-result {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid var(--color-accent);
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: opacity 0.5s ease, visibility 0.5s ease, transform 0.5s ease;
            color: #111827;
        }

        .wheel-result.hidden {
            display: none;
        }

        .wheel-result.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .promo-code {
            font-family: 'Courier New', monospace;
            background: #e5e7eb;
            padding: 8px 12px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
            letter-spacing: 2px;
            color: #111827;
        }

        .whatsapp-btn {
            display: inline-block;
            background: linear-gradient(145deg, #25D366, #128C7E);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            margin-top: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
            background: linear-gradient(145deg, #2EE66A, #1A9B8A);
        }

        .game-menu {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .game-btn {
            background: linear-gradient(145deg, rgba(139, 0, 0, 0.3), rgba(220, 20, 60, 0.2));
            border: 2px solid rgba(255, 215, 0, 0.4);
            color: white;
            padding: 18px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: block;
            backdrop-filter: blur(10px);
            box-shadow: 
                0 8px 20px rgba(139, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .game-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .game-btn:hover::before {
            left: 100%;
        }

        .game-btn:hover {
            background: linear-gradient(145deg, rgba(220, 20, 60, 0.4), rgba(139, 0, 0, 0.3));
            transform: translateY(-3px);
            box-shadow: 
                0 12px 25px rgba(139, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 215, 0, 0.6);
        }

        .footer {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(145deg, rgba(139, 0, 0, 0.2), rgba(75, 0, 0, 0.3));
            border-radius: 20px;
            font-size: 0.9em;
            opacity: 0.9;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.2);
            box-shadow: 
                0 8px 20px rgba(139, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .footer a {
            color: #FFD700;
            text-decoration: none;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        .footer a:hover {
            color: #FFA500;
            text-decoration: underline;
            text-shadow: 0 2px 4px rgba(255, 215, 0, 0.3);
        }

        /* Responsive adjustments */
        @media (max-width: 480px) {
            .roulette-plate {
                width: min(250px, 75vw);
                height: min(250px, 75vw);
            }
            
            .roulette-inner {
                height: min(250px, 75vw);
                width: min(250px, 75vw);
            }
            
            .roulette-number {
                width: calc(min(250px, 75vw) / 11);
                height: calc(min(250px, 75vw) / 2);
                left: calc(50% - calc(min(250px, 75vw) / 22));
                border-left: calc(min(250px, 75vw) / 22) solid transparent;
                border-right: calc(min(250px, 75vw) / 22) solid transparent;
                border-top: calc(min(250px, 75vw) / 2) solid black;
            }
            
            .roulette-pit {
                padding-top: calc(min(250px, 75vw) / 30);
                width: calc(min(250px, 75vw) / 11);
                font-size: calc(min(250px, 75vw) / 35);
                top: calc(-1 * min(250px, 75vw) / 2);
                left: calc(-1 * min(250px, 75vw) / 22);
            }
            
            .roulette-btn {
                width: min(150px, 45vw);
                font-size: 14px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ ÿ±ŸàŸÑŸäÿ™ 29Bet</h1>
            <p>ÿØŸàÿ± ÿßŸÑÿπÿ¨ŸÑÿ© Ÿàÿßÿ±ÿ®ÿ≠ ŸÖŸÉÿßŸÅÿ£ÿ© ŸÅŸàÿ±Ÿäÿ©!</p>
        </div>
        
        <div class="game-container">
            <div class="card">
                <h2 class="text-2xl font-bold mb-6 text-gray-900">üéØ ÿßÿ±ÿ®ÿ≠ ŸÖŸÉÿßŸÅÿ£ÿ© ŸÖÿ¨ÿßŸÜŸäÿ©!</h2>
                <p class="text-sm text-gray-600 mb-6">ÿØŸàÿ± ÿßŸÑÿπÿ¨ŸÑÿ© Ÿàÿßÿ±ÿ®ÿ≠ ŸÖŸÉÿßŸÅÿ£ÿ© ŸÅŸàÿ±Ÿäÿ©</p>
                
                <div class="roulette-main">
                    <button type="button" class="roulette-btn" id="rouletteSpin">
                        <span>üéØ ÿØŸàÿ± ÿßŸÑÿπÿ¨ŸÑÿ©</span>
                    </button>
                    <button type="button" class="roulette-btn" id="rouletteReset" style="display: none;">
                        <span>üîÑ ŸÑÿπÿ®ÿ© ÿ¨ÿØŸäÿØÿ©</span>
                    </button>
                    
                    <div class="roulette-plate" id="roulettePlate">
                        <ul class="roulette-inner" id="rouletteInner">
                            <!-- Roulette numbers will be generated by JavaScript -->
                        </ul>
                        <div class="roulette-data" id="rouletteData">
                            <div class="roulette-data-inner">
                                <div class="roulette-mask" id="rouletteMask">29bet</div>
                                <div class="roulette-result">
                                    <div class="roulette-result-amount" id="rouletteResultAmount">$0</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="wheelResult" class="wheel-result hidden">
                    <h4 class="font-bold text-lg text-green-600">üéâ ŸÖÿ®ÿ±ŸàŸÉ!</h4>
                    <p class="text-sm text-gray-700">ŸÑŸÇÿØ ÿ±ÿ®ÿ≠ÿ™:</p>
                    <div id="prizeAmount" class="text-2xl font-bold text-red-600"></div>
                    <div class="promo-code" id="promoCode"></div>
                    <p class="text-xs text-gray-500 mt-2">ÿßÿ≠ÿ™ŸÅÿ∏ ÿ®Ÿáÿ∞ÿß ÿßŸÑŸÉŸàÿØ Ÿàÿßÿ≥ÿ™ÿÆÿØŸÖŸá ÿπŸÜÿØ ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ</p>
                    <a href="https://wa.me/447723342065?text=ÿ≠ÿµŸÑÿ™%20ÿπŸÑŸâ%20ŸÉŸàÿØ%20ÿßŸÑÿÆÿµŸÖ%20ÿßŸÑÿÆÿßÿµ%20ÿ®Ÿäÿå%20ŸÉŸäŸÅ%20ŸäŸÖŸÉŸÜŸÜŸä%20ÿßÿ≥ÿ™ÿÆÿØÿßŸÖŸáÿü" 
                       class="whatsapp-btn" target="_blank">
                        üí¨ ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß ÿπÿ®ÿ± Ÿàÿßÿ™ÿ≥ÿßÿ®
                    </a>
                </div>
            </div>
        </div>
        
        
        <div class="footer">
            <p>üéØ ŸÑÿπÿ®ÿ© ŸÖÿ¨ÿßŸÜŸäÿ© ŸÖŸÜ 29Bet</p>
            <p>ÿ≤Ÿäÿßÿ±ÿ© ÿßŸÑŸÖŸàŸÇÿπ: <a href="https://29bet.net" target="_blank">29bet.net</a></p>
            <p>+18 | ÿßŸÑÿ±ÿ¨ÿßÿ° ÿßŸÑŸÑÿπÿ® ÿ®ŸÖÿ≥ÿ§ŸàŸÑŸäÿ©</p>
        </div>
    </div>

    <script>
        // Initialize Telegram WebApp
        let tg = window.Telegram?.WebApp;
        if (tg) {
            tg.ready();
            tg.expand();
        }
        
        // WebAppInfo integration for Telegram
        console.log('WebAppInfo: Telegram WebApp initialized for Roulette');
        
        // Get user data from Telegram
        const user = tg?.initDataUnsafe?.user;
        const userId = user?.id;
        console.log('User ID:', userId);
        
        // Game state
        let isSpinning = false;
        let hasWon = false;
        let userPrize = null;
        let rouletteInner, rouletteSpin, rouletteReset, rouletteData, rouletteMask;
        let maskDefault = 'ÿ∂ÿπ ÿ±ŸáÿßŸÜŸÉ';
        let timer = 9000;

        // Store the wheel segments for consistent reading
        let wheelSegments = [];

        // Roulette prizes with weights
        const roulettePrizes = [
            { amount: 5, promo: "ROULETTE52992", weight: 60 },
            { amount: 10, promo: "ROULETTE102992", weight: 15 },
            { amount: 15, promo: "ROULETTE152992", weight: 12 },
            { amount: 20, promo: "ROULETTE202992", weight: 10 },
            { amount: 25, promo: "ROULETTE252992", weight: 7 },
            { amount: 30, promo: "ROULETTE302992", weight: 5 },
            { amount: 50, promo: "ROULETTE502992", weight: 2 },
            { amount: 75, promo: "ROULETTE752992", weight: 1 },
            { amount: 100, promo: "ROULETTE1002992", weight: 1 }
        ];

        // Generate roulette numbers with fixed amounts
        function createRouletteWheel() {
            rouletteInner = document.getElementById('rouletteInner');
            rouletteInner.innerHTML = '';
            wheelSegments = [];
            
            // Fixed amounts for each segment
            const segmentAmounts = [5, 10, 15, 20, 25, 30, 50, 75, 100, 5, 10, 15, 20, 25, 30, 50, 75, 100, 5, 10, 15, 20, 25, 30, 50, 75, 100, 5, 10, 15, 20, 25, 30, 50, 75, 100];
            
            // Create 36 segments
            for (let i = 0; i < 36; i++) {
                const amount = segmentAmounts[i];
                const prize = roulettePrizes.find(p => p.amount === amount);
                
                const li = document.createElement('li');
                li.className = 'roulette-number';
                li.style.transform = `rotateZ(${(360/36) * i}deg)`;
                
                const label = document.createElement('label');
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'pit';
                input.value = i;
                
                const span = document.createElement('span');
                span.className = 'roulette-pit';
                span.textContent = `$${amount}`;
                
                // Store the prize for this segment
                wheelSegments[i] = prize;
                
                label.appendChild(input);
                label.appendChild(span);
                li.appendChild(label);
                rouletteInner.appendChild(li);
            }
        }

        // Weighted random selection
        function getRandomPrize() {
            const totalWeight = roulettePrizes.reduce((sum, prize) => sum + prize.weight, 0);
            let random = Math.random() * totalWeight;
            
            for (let prize of roulettePrizes) {
                random -= prize.weight;
                if (random <= 0) {
                    return prize;
                }
            }
            return roulettePrizes[0]; // fallback
        }

        // Spin the roulette
        function spinRoulette() {
            if (isSpinning || hasWon) return;
            
            isSpinning = true;
            const randomNumber = Math.floor(Math.random() * 36);
            
            // Get the actual prize from the stored segment data
            const winningPrize = wheelSegments[randomNumber];
            
            // Set the ball landing position to match the segment
            rouletteInner.setAttribute('data-spinto', randomNumber);
            rouletteInner.querySelector(`li:nth-child(${randomNumber + 1}) input`).checked = true;
            
            rouletteSpin.style.display = 'none';
            rouletteReset.classList.add('disabled');
            rouletteReset.disabled = true;
            rouletteReset.style.display = 'inline-block';
            
            setTimeout(() => {
                rouletteMask.textContent = 'ŸÑÿß ŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ±ŸáÿßŸÜÿßÿ™';
            }, timer / 2);
            
            setTimeout(() => {
                rouletteMask.textContent = maskDefault;
            }, timer + 500);
            
            setTimeout(() => {
                try {
                    // Store the prize and mark as won
                    userPrize = winningPrize;
                    hasWon = true;
                    
                    rouletteReset.classList.remove('disabled');
                    rouletteReset.disabled = false;
                    
                    // Show result in center
                    const resultAmount = document.getElementById('rouletteResultAmount');
                    if (resultAmount) resultAmount.textContent = `$${winningPrize.amount}`;
                    rouletteData.classList.add('reveal');
                    rouletteInner.classList.add('rest');
                    
                    // Show result in modal
                    const prizeAmount = document.getElementById('prizeAmount');
                    const promoCode = document.getElementById('promoCode');
                    const wheelResult = document.getElementById('wheelResult');
                    
                    if (prizeAmount) prizeAmount.textContent = `$${winningPrize.amount}`;
                    if (promoCode) promoCode.textContent = winningPrize.promo;
                    
                    if (wheelResult) {
                        wheelResult.classList.remove('hidden');
                        wheelResult.classList.add('show');
                        wheelResult.style.display = 'block';
                        wheelResult.style.opacity = '1';
                        wheelResult.style.visibility = 'visible';
                    }
                    
                    // Send data to Telegram if available
                    if (tg && userId) {
                        // Send structured data
                        tg.sendData(JSON.stringify({
                            type: 'roulette_win',
                            amount: winningPrize.amount,
                            promo: winningPrize.promo,
                            game: 'roulette',
                            user_id: userId
                        }));
                        
                        // Also send a text message with the promo code
                        setTimeout(() => {
                            tg.sendData(`ÿ≠ÿµŸÑÿ™ ÿπŸÑŸâ ŸÉŸàÿØ ÿßŸÑÿ®ŸàŸÜŸàÿµ ${winningPrize.promo} ŸÉŸäŸÅ ŸäŸÖŸÉŸÜŸÜŸä ÿßÿ≥ÿ™ÿÆÿØÿßŸÖŸá`);
                        }, 1000);
                    }
                    
                    isSpinning = false;
                } catch (error) {
                    console.error('Error showing wheel result:', error);
                    isSpinning = false;
                }
            }, timer);
        }

        // Reset roulette
        function resetRoulette() {
            rouletteInner.removeAttribute('data-spinto');
            rouletteInner.classList.remove('rest');
            rouletteReset.style.display = 'none';
            rouletteSpin.style.display = 'inline-block';
            rouletteData.classList.remove('reveal');
            
            const wheelResult = document.getElementById('wheelResult');
            if (wheelResult) {
                wheelResult.classList.add('hidden');
                wheelResult.classList.remove('show');
                wheelResult.style.display = '';
                wheelResult.style.opacity = '';
                wheelResult.style.visibility = '';
            }
            
            hasWon = false;
            userPrize = null;
        }

        // Initialize wheel function
        function initializeWheel() {
            // Initialize roulette elements
            rouletteInner = document.getElementById('rouletteInner');
            rouletteSpin = document.getElementById('rouletteSpin');
            rouletteReset = document.getElementById('rouletteReset');
            rouletteData = document.getElementById('rouletteData');
            rouletteMask = document.getElementById('rouletteMask');
            
            // Create roulette wheel
            createRouletteWheel();
            
            const result = document.getElementById('wheelResult');
            
            if (hasWon && userPrize) {
                // User already won in this session, show their prize
                document.getElementById('prizeAmount').textContent = `$${userPrize.amount}`;
                document.getElementById('promoCode').textContent = userPrize.promo;
                result.classList.remove('hidden');
                
                rouletteSpin.style.display = 'none';
                rouletteReset.style.display = 'inline-block';
                rouletteReset.disabled = true;
                rouletteReset.classList.add('disabled');
            } else {
                // User hasn't won yet, allow spinning
                result.classList.add('hidden');
                rouletteSpin.style.display = 'inline-block';
                rouletteReset.style.display = 'none';
                rouletteReset.disabled = false;
                rouletteReset.classList.remove('disabled');
            }
        }

        // Initialize wheel and bind events
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the wheel when page loads
            initializeWheel();
            
            // Bind roulette buttons
            document.getElementById('rouletteSpin').addEventListener('click', spinRoulette);
            document.getElementById('rouletteReset').addEventListener('click', resetRoulette);
        });

        // Handle Telegram WebApp events if available
        if (tg) {
            tg.onEvent('mainButtonClicked', function() {
                tg.close();
            });
            
            // Set main button
            tg.MainButton.setText('ÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑŸÑÿπÿ®ÿ©');
            tg.MainButton.show();
        }
    </script>
</body>
</html>